<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ë¬˜ë¬˜ì˜ ì§‘ â€” Cat Fandom MVP</title>
  <meta name="description" content="ê³ ì–‘ì´ ë¬˜ë¬˜ì˜ ì•„ì¹´ì´ë¸Œì™€ ë‹¤ê¾¸ ê°ì„± ë°©ëª…ë¡ MVP" />

  <!-- ê°„ë‹¨ íŒŒë¹„ì½˜(404 ë°©ì§€) -->
  <link rel="icon"
        href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Ctext y='14' font-size='14'%3EğŸ±%3C/text%3E%3C/svg%3E">

  <style>
    :root{
      --bg:#faf8f6;--paper:#fff;--ink:#222;--sub:#666;--brand:#ff7892;--brand2:#ffd7e0;--line:#eee;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--ink);font-family: ui-rounded, "Pretendard", system-ui, -apple-system, Segoe UI, Roboto, Apple SD Gothic Neo, "Apple Color Emoji", Noto Color Emoji, sans-serif}
    header{position:sticky;top:0;background:linear-gradient(180deg,#fff,rgba(255,255,255,.92));backdrop-filter:saturate(1.2) blur(8px);border-bottom:1px solid var(--line);z-index:20}
    .wrap{max-width:980px;margin:0 auto;padding:16px}
    .brand{display:flex;gap:10px;align-items:center}
    .brand b{font-size:20px}
    nav{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
    .tab{appearance:none;border:1px solid var(--line);background:var(--paper);padding:8px 12px;border-radius:999px;cursor:pointer}
    .tab[aria-current="page"]{border-color:var(--brand);box-shadow:0 0 0 2px var(--brand2)}

    main{padding:20px}
    .card{background:var(--paper);border:1px solid var(--line);border-radius:16px;padding:16px;box-shadow:0 8px 24px rgba(0,0,0,.04)}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:14px}
    .muted{color:var(--sub);font-size:14px}
    .btn{appearance:none;border:1px solid var(--line);background:var(--paper);padding:8px 12px;border-radius:10px;cursor:pointer}
    .btn.primary{border-color:var(--brand);background:linear-gradient(180deg,#fff,var(--brand2));}
    .row{display:flex;gap:10px;flex-wrap:wrap}
    .input, textarea, select{width:100%;padding:10px;border:1px solid var(--line);border-radius:10px;background:#fff}
    textarea{min-height:90px;resize:vertical}
    .tag{display:inline-flex;align-items:center;gap:6px;background:var(--brand2);border-radius:999px;padding:4px 8px;font-size:12px;border:1px solid var(--brand)}
    .pill{display:inline-flex;align-items:center;gap:6px;background:#f6f6f6;border-radius:999px;padding:4px 8px;font-size:12px;border:1px solid var(--line)}
    .paper-edge{position:relative}
    .paper-edge:after{content:"";position:absolute;inset:0;border-radius:16px;background:repeating-linear-gradient(45deg, transparent 0 10px, rgba(255,180,200,.2) 10px 20px);mask:linear-gradient(#000,#000) content-box, linear-gradient(#000,#000);mask-composite:exclude;padding:1px;border:1px solid transparent}
    .stamp{font-weight:700;color:#c74;font-size:12px;border:2px dashed #c74;border-radius:8px;padding:2px 6px;display:inline-block;transform:rotate(-6deg)}
    .ghost{opacity:.6}
    .hide{display:none}
    .footer{padding:60px 20px;color:var(--sub);text-align:center}
    figure{margin:0}
    img{max-width:100%;height:auto;border-radius:12px;border:1px solid var(--line);display:block}
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <div class="brand" aria-label="ì‚¬ì´íŠ¸ ì œëª©">
        <svg width="28" height="28" viewBox="0 0 24 24" aria-hidden="true"><path fill="#ff7892" d="M12 2c2.5 0 4.5 2 4.5 4.5c0 1.7-.9 3.2-2.3 4.1c2.5.7 4.3 3 4.3 5.7V20a2 2 0 0 1-2 2H7.5a2 2 0 0 1-2-2v-3.7c0-2.7 1.8-5 4.3-5.7A4.5 4.5 0 0 1 7.5 6.5C7.5 4 9.5 2 12 2Z"/></svg>
        <b>ë¬˜ë¬˜ì˜ ì§‘</b>
        <span class="pill" aria-live="polite" id="today-pill">ì˜¤ëŠ˜ì˜ ë¬˜ë¬˜ ìš´ì„¸ ë¡œë”©ì¤‘â€¦</span>
      </div>
      <nav aria-label="ì£¼ìš” íƒìƒ‰" class="row">
        <button class="tab" data-page="home" aria-current="page">í™ˆ</button>
        <button class="tab" data-page="archive">ì•„ì¹´ì´ë¸Œ</button>
        <button class="tab" data-page="guestbook">ë°©ëª…ë¡</button>
        <button class="tab" data-page="goodies">ë³´ë„ˆìŠ¤</button>
      </nav>
    </div>
  </header>

  <main class="wrap">
    <!-- í™ˆ -->
    <section id="page-home" class="page">
      <div class="card paper-edge">
        <div class="row" style="align-items:center;justify-content:space-between">
          <h2 style="margin:0">ì˜¤ëŠ˜ì˜ ë¬˜ë¬˜ ğŸ¾</h2>
          <span class="tag"><span aria-hidden>âœ¨</span> ëœë¤ ì¹´ë“œ</span>
        </div>
        <div class="row" style="margin-top:12px;align-items:flex-start">
          <figure style="flex:1 1 320px;max-width:520px">
            <img id="hero-img" alt="ì˜¤ëŠ˜ì˜ ë¬˜ë¬˜ ì‚¬ì§„" src="https://placekitten.com/600/380"/>
            <figcaption class="muted" id="hero-caption">í”Œë ˆì´ìŠ¤í™€ë” â€” ë‚˜ì¤‘ì— ë‚´ ê°¤ëŸ¬ë¦¬/ì¸ìŠ¤íƒ€ ì—°ë™</figcaption>
          </figure>
          <div style="flex:1 1 320px;min-width:240px">
            <p id="fortune" style="font-size:18px;line-height:1.5">ìš´ì„¸ ë¡œë”©ì¤‘â€¦</p>
            <div class="row">
              <button class="btn primary" id="btn-refresh">ì˜¤ëŠ˜ ì¹´ë“œ ìƒˆë¡œ ë½‘ê¸°</button>
              <button class="btn" id="btn-swap">ì‚¬ì§„ ë°”ê¾¸ê¸°</button>
            </div>
            <p class="muted" style="margin-top:8px">â€» ì•„ë˜ì— ìœ íŠœë¸Œ/ì¸ìŠ¤íƒ€ ìµœì‹  í¬ìŠ¤íŠ¸ ìë™ ë…¸ì¶œ</p>
          </div>
        </div>

        <hr style="margin:18px 0;border:none;border-top:1px dashed var(--line)">
        <div class="row" style="gap:16px;align-items:flex-start;flex-wrap:wrap">
          <!-- ìœ íŠœë¸Œ (SociableKit ìœ„ì ¯ë§Œ ì‚¬ìš©) -->
          <section style="flex:1 1 420px;min-width:320px" aria-labelledby="yt-title">
            <h3 id="yt-title" style="margin:6px 0">ìœ íŠœë¸Œ ìµœì‹  ì˜ìƒ â–¶</h3>
            <div class='sk-ww-youtube-channel-videos' data-embed-id='25594678'></div>
            <script src='https://widgets.sociablekit.com/youtube-channel-videos/widget.js' defer></script>
          </section>

          <!-- ì¸ìŠ¤íƒ€ê·¸ë¨ (SociableKit ìœ„ì ¯ë§Œ ì‚¬ìš©) -->
          <section style="flex:1 1 420px;min-width:320px" aria-labelledby="ig-title">
            <h3 id="ig-title" style="margin:6px 0">ì¸ìŠ¤íƒ€ ìµœì‹  í¬ìŠ¤íŠ¸ â™¡</h3>
            <div class='sk-instagram-feed' data-embed-id='25594666'></div>
            <script src='https://widgets.sociablekit.com/instagram-feed/widget.js' defer></script>
          </section>
        </div>
      </div>
    </section>

    <!-- ì•„ì¹´ì´ë¸Œ -->
    <section id="page-archive" class="page hide">
      <div class="card">
        <div class="row" style="align-items:center;justify-content:space-between">
          <h2 style="margin:0">ì•„ì¹´ì´ë¸Œ ğŸ“‚</h2>
        <div class="row">
          <select id="filter-year" aria-label="ì—°ë„ ì„ íƒ" class="input" style="max-width:140px"></select>
          <select id="filter-tag" aria-label="ì¹´í…Œê³ ë¦¬ ì„ íƒ" class="input" style="max-width:160px"></select>
        </div>
        </div>
        <p class="muted">ì—°ë„/ì¹´í…Œê³ ë¦¬ë³„ë¡œ ì •ë¦¬ëœ ë¬˜ë¬˜ ê¸°ë¡. (ì´ˆê¸° ë°ëª¨ ë°ì´í„° â†’ ì¶”í›„ ì¸ìŠ¤íƒ€/ìœ íŠœë¸Œ ì—°ë™)</p>
        <div id="archive-list" class="grid" aria-live="polite"></div>
      </div>
    </section>

    <!-- ë°©ëª…ë¡ (ë‹¤ê¾¸í’) -->
    <section id="page-guestbook" class="page hide">
      <div class="card">
        <h2 style="margin-top:0">ë°©ëª…ë¡ âœï¸</h2>
        <p class="muted">ì†ê¸€ì”¨ ëŠë‚Œ + ìŠ¤í‹°ì»¤ë¡œ ë©”ì‹œì§€ë¥¼ ë‚¨ê²¨ë³´ì„¸ìš”. (ë¡œì»¬ ì €ì¥) </p>
        <form id="guest-form" class="card" style="margin:10px 0;display:grid;gap:10px">
          <div class="row">
            <input class="input" id="nick" placeholder="ë‹‰ë„¤ì„" required aria-label="ë‹‰ë„¤ì„" style="max-width:220px"/>
            <select id="sticker" class="input" aria-label="ìŠ¤í‹°ì»¤ ì„ íƒ" style="max-width:220px">
              <option>ğŸ¾ ë°œë°”ë‹¥</option>
              <option>ğŸ± ê³ ì–‘ì´</option>
              <option>âœ¨ ë°˜ì§</option>
              <option>ğŸ€ ë¦¬ë³¸</option>
              <option>ğŸ“ ë”¸ê¸°</option>
            </select>
          </div>
          <textarea id="msg" placeholder="ë©”ì‹œì§€" required aria-label="ë©”ì‹œì§€"></textarea>
          <div class="row" style="justify-content:space-between;align-items:center">
            <button class="btn primary" type="submit">ë‚¨ê¸°ê¸°</button>
            <button class="btn" type="button" id="clear-guestbook">ëª¨ë‘ ì§€ìš°ê¸°</button>
          </div>
        </form>
        <div id="guest-list" class="grid" aria-live="polite"></div>
      </div>
    </section>

    <!-- ë³´ë„ˆìŠ¤ (ë‹¤ìš´ë¡œë“œ/ê³µì§€) -->
    <section id="page-goodies" class="page hide">
      <div class="card">
        <div class="row" style="align-items:center;justify-content:space-between">
          <h2 style="margin:0">ë³´ë„ˆìŠ¤ ğŸ</h2>
          <span class="stamp">coming soon</span>
        </div>
        <p class="muted">ì§ì ‘ ë§Œë“  ìŠ¤í‹°ì»¤íŒ©(PNG/êµ¿ë…¸íŠ¸) ë¬´ë£Œ ë°°í¬, ë°°ê²½í™”ë©´, í°íŠ¸ ê°€ì´ë“œ ë“±ì„ ì˜¬ë¦´ ê³µê°„ì…ë‹ˆë‹¤.</p>
        <ul>
          <li>ìŠ¤í‹°ì»¤íŒ© v0: <span class="ghost">ì—…ë¡œë“œ ì˜ˆì •</span></li>
          <li>ë°°ê²½í™”ë©´ v0: <span class="ghost">ì—…ë¡œë“œ ì˜ˆì •</span></li>
        </ul>
      </div>
    </section>
  </main>

  <footer class="footer">Â© <span id="yyyy"></span> ë¬˜ë¬˜ì˜ ì§‘ â€” made with â™¥</footer>

  <script>
  // ==== ì „ì—­ ì˜¤ì—¼ ë°©ì§€: ëª¨ë“  ì»¤ìŠ¤í…€ JSë¥¼ IIFEë¡œ ê²©ë¦¬ ====
  (() => {
    // ====== ìœ í‹¸ ======
    const $ = (sel, el=document) => el.querySelector(sel);
    const $$ = (sel, el=document) => Array.from(el.querySelectorAll(sel));
    const storage = {
      get(key, fallback){ try { return JSON.parse(localStorage.getItem(key)) ?? fallback } catch{ return fallback } },
      set(key, val){
        try { localStorage.setItem(key, JSON.stringify(val)); }
        catch (e) { console.warn('localStorage ì‚¬ìš© ë¶ˆê°€:', e); }
      }
    }
    const FORTUNES = [
      "ì˜¤ëŠ˜ì€ ìƒì íƒí—˜ì´ ëŒ€ë°•! ğŸ“¦",
      "ê°„ì‹ í˜‘ìƒì— ìœ ë¦¬í•œ ë‚  ğŸ—",
      "ë‚®ì ì´ ì•½â€” 3íšŒ ì´ìƒ ì¶”ì²œ ğŸ˜´",
      "ì°½ê°€ í–‡ì‚´ ìŠ¤íŒŸì„ ì„ ì í•˜ì„¸ìš” â˜€ï¸",
      "ë¹—ì§ˆ íƒ€ì´ë° ì¢‹ìŒ âœ‚ï¸",
      "ì¥ë‚œê° ë‚šì‹œëŒ€ íˆíŠ¸ í™•ë¥  â†‘ ğŸ£"
    ];
    function pick(arr){ return arr[Math.floor(Math.random()*arr.length)] }

    // ====== íƒ­ ë‚´ë¹„ê²Œì´ì…˜ ======
    $$(".tab").forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const p = btn.dataset.page;
        $$(".tab").forEach(b=> b.removeAttribute('aria-current'))
        btn.setAttribute('aria-current','page');
        $$(".page").forEach(sec=> sec.classList.add('hide'))
        $('#page-'+p).classList.remove('hide')
      })
    });

    // ====== í™ˆ: ëœë¤ ì´ë¯¸ì§€/ìš´ì„¸ ======
    function setFortune(){ $('#fortune').textContent = pick(FORTUNES) }
    function swapHero(){
      const w = 480 + Math.floor(Math.random()*240); // 480~720
      const h = 320 + Math.floor(Math.random()*200); // 320~520
      const img = $('#hero-img');
      img.onload = () => {};
      img.src = `https://placekitten.com/${w}/${h}`;
      $('#hero-caption').textContent = 'í”Œë ˆì´ìŠ¤í™€ë” â€” ë‚˜ì¤‘ì— ë‚´ ê°¤ëŸ¬ë¦¬/ì¸ìŠ¤íƒ€ ì—°ë™';
    }
    $('#btn-refresh').addEventListener('click', setFortune);
    $('#btn-swap').addEventListener('click', swapHero);

    // ====== ì•„ì¹´ì´ë¸Œ ë°ëª¨ ë°ì´í„° ======
    const DEMO_ARCHIVE = [
      { id:1, y:2025, tag:'ë¨¹ë°©',   title:'ì¸„ë¥´ ì‹œì‹íšŒ',   img:'https://placekitten.com/420/280', note:'ì²« ì¸„ë¥´ ë¦¬ë·°', date:'2025-08-12' },
      { id:2, y:2025, tag:'ê¿€ì ',   title:'ì‹ë¹µìì„¸ ë§ˆìŠ¤í„°', img:'https://placekitten.com/421/281', note:'í–‡ì‚´ ìŠ¤íŒŸ ë°œê²¬', date:'2025-07-30' },
      { id:3, y:2024, tag:'ì¥ë‚œê°', title:'ë‚šì‹œëŒ€ ê²©íŒŒ',    img:'https://placekitten.com/422/282', note:'ê¹ƒí„¸ ë¶„í•´í•¨',   date:'2024-12-02' },
      { id:4, y:2024, tag:'íŒ¨ì…˜',   title:'ë¦¬ë³¸ë°ì´',       img:'https://placekitten.com/423/283', note:'ë¶„í™ ë¦¬ë³¸ ì‹œë„', date:'2024-10-03' },
      { id:5, y:2023, tag:'ì—¬í–‰',   title:'ì°½ë°– êµ¬ê²½',      img:'https://placekitten.com/424/284', note:'ì°¨ë°• ì²« ê²½í—˜',   date:'2023-05-15' }
    ];
    function renderArchive(list){
      const wrap = $('#archive-list');
      wrap.innerHTML = '';
      list.forEach(item=>{
        const el = document.createElement('article');
        el.className = 'card';
        el.innerHTML = `
          <figure>
            <img src="${item.img}" alt="${item.title}"/>
            <figcaption class="muted">${item.date} Â· ${item.tag}</figcaption>
          </figure>
          <h3 style="margin:.5rem 0 0">${item.title}</h3>
          <p class="muted">${item.note}</p>
        `;
        wrap.appendChild(el);
      })
    }
    function setupArchiveFilters(){
      const years = Array.from(new Set(DEMO_ARCHIVE.map(x=>x.y))).sort((a,b)=>b-a);
      const tags  = Array.from(new Set(DEMO_ARCHIVE.map(x=>x.tag)));
      const $y = $('#filter-year');
      const $t = $('#filter-tag');
      $y.innerHTML = '<option value="all">ì „ì²´ ì—°ë„</option>' + years.map(y=>`<option>${y}</option>`).join('');
      $t.innerHTML = '<option value="all">ì „ì²´ ì¹´í…Œê³ ë¦¬</option>' + tags.map(t=>`<option>${t}</option>`).join('');
      function apply(){
        const yv = $y.value; const tv = $t.value;
        const filtered = DEMO_ARCHIVE.filter(x=> (yv==='all'||x.y==yv) && (tv==='all'||x.tag===tv));
        renderArchive(filtered);
      }
      $y.addEventListener('change', apply); $t.addEventListener('change', apply);
      apply();
    }

    // ====== ë°©ëª…ë¡ (ë¡œì»¬ìŠ¤í† ë¦¬ì§€) ======
    const GKEY = 'guestbook.v1';
    function loadGuest(){ return storage.get(GKEY, []) }
    function saveGuest(list){ storage.set(GKEY, list) }
    function renderGuest(){
      const list = loadGuest();
      const wrap = $('#guest-list');
      wrap.innerHTML = '';
      if(!list.length){ wrap.innerHTML = '<p class="muted">ì•„ì§ ë©”ì‹œì§€ê°€ ì—†ì–´ìš”. ì²« ë©”ì‹œì§€ë¥¼ ë‚¨ê²¨ë³´ì„¸ìš”! âœ¨</p>'; return }
      list.forEach(x=>{
        const el = document.createElement('article');
        el.className = 'card paper-edge';
        el.innerHTML = `
          <div class="row" style="justify-content:space-between;align-items:center">
            <strong>${x.nick}</strong>
            <span class="tag">${x.sticker}</span>
          </div>
          <p style="white-space:pre-wrap">${x.msg}</p>
          <div class="muted">${new Date(x.ts).toLocaleString()}</div>
        `;
        wrap.appendChild(el);
      })
    }
    $('#guest-form').addEventListener('submit', e=>{
      e.preventDefault();
      const nick = $('#nick').value.trim();
      const msg  = $('#msg').value.trim();
      const sticker = $('#sticker').value;
      if(!nick || !msg) return;
      const list = loadGuest();
      list.unshift({nick, msg, sticker, ts: Date.now()});
      saveGuest(list);
      e.target.reset();
      renderGuest();
    });
    $('#clear-guestbook').addEventListener('click', ()=>{
      if(confirm('ë°©ëª…ë¡ì„ ì „ë¶€ ì‚­ì œí• ê¹Œìš”? (ë¡œì»¬ì— ì €ì¥ëœ ë°ì´í„°ë§Œ ì‚­ì œë©ë‹ˆë‹¤)')){
        saveGuest([]); renderGuest();
      }
    });

    // ====== ì´ˆê¸°í™” ======
    function init(){
      $('#yyyy').textContent = new Date().getFullYear();
      $('#today-pill').textContent = 'ì˜¤ëŠ˜: '+pick(['ê°„ì‹í™•ë¥  â†‘','ê¿€ì ë°ì´','ìº£ë‹¢ì£¼ì˜','ë°•ìŠ¤ë§¤ì§','ë¹—ì§ˆOK']);
      setFortune();
      swapHero();
      setupArchiveFilters();
      renderArchive(DEMO_ARCHIVE);
      renderGuest();
      // SociableKit ìœ„ì ¯ì€ ì„¹ì…˜ì˜ <script src="...widget.js" defer>ê°€ ê°ì ì²˜ë¦¬
    }
    document.addEventListener('DOMContentLoaded', init);
  })();
  </script>
</body>
</html>
